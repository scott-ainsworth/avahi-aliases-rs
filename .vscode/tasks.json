{
	"version": "2.0.0",
	"tasks": [

		{
			"type": "cargo",
			"command": "check",
			"args": ["+nightly"],
			"env": {
				"CARGO_INCREMENTAL": "0",
				"RUSTFLAGS": "-Clink-dead-code -Coverflow-checks=off -Cpanic=abort -Zprofile -Zpanic_abort_tests",
				"RUSTDOCFLAGS": "-Cpanic=abort"
			},
			"problemMatcher": [ "$rustc" ],
			"group": "build",
			"label": "rust: cargo check",
		},

		{
			"type": "shell",
			"command": "make bin",
			"problemMatcher": [ "$rustc" ],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"dependsOn": ["rust: cargo fmt"],
			"label": "rust: cargo build"
		},

		{
			"type": "shell",
			"command": ["cargo", "+nightly", "fmt"],
			"problemMatcher": [ "$rustc" ],
			"group": "build",
			"label": "rust: cargo fmt"
		},

		{
			"type": "shell",
			"command": "make test",
			"problemMatcher": [ "$rustc" ],
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"dependsOn": ["rust: cargo fmt"],
			"label": "rust: cargo test"
		}

	]
}
